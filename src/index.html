<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
  :root {
    --black: #222;
    --white: #ddd;
    --foreground: var(--white);
    --background: var(--black);
  }
  * {
    box-sizing: border-box;
  }
  html,
  body {
    margin: 0;
    padding: 0;
    background: var(--background);
    color: var(--foreground);
    font-family: Arial;
    font-size: 24px;
    height: 100%;
  }
  main {
    height: 100%;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: min-content 1fr repeat(3, min-content);
    align-items: stretch;
    margin: 0 auto;
  }
  main > * {
    grid-column: 1 / -1;
  }
  #factsheet {
    display: grid;
    grid-template-columns: repeat(2, max-content);
    padding: 0.4em;
    background: rgba(0, 0, 0, 0.8);
    justify-content: space-between;
    grid-gap: 0.3em 2em;
  }
  main > svg {
    grid-column: auto / span 1;
  }
  .output {
    text-align: right;
  }
  main > svg {
    max-height: 66vh;
    stroke: var(--foreground);
    stroke-width: 1px;
    fill: var(--foreground);
    font-family: Arial;
    font-size: 4px;
  }
  svg * {
    vector-effect: non-scaling-stroke;
  }
  svg text {
    stroke: none !important;
  }
  svg .invert {
    fill: var(--background);
    stroke: var(--background);
  }
  svg .fov-line {
    transform-origin: 30px 0%;
  }
  svg .dashed {
    stroke-dasharray: 4;
  }
  svg #scale {
    transform-origin: 0% 50%;
  }
</style>
<main>
  <div id="factsheet">
    <div>Focal length</div>
    <div class="focal output"></div>
    <div>Aperture</div>
    <div class="aperture output"></div>
    <div>Distance</div>
    <div class="distance output"></div>
    <div>Hyperfocal</div>
    <div class="hyperfocal output"></div>
    <div>Horizontal FoV</div>
    <div class="hfov output"></div>
    <div>DoF before + after</div>
    <div class="dof output"></div>
  </div>
  <svg
    viewBox="0 0 1 1"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <g id="camera">
      <rect x="0" y="-10" width="20" height="20" stroke="1" fill="none" />
      <polyline points="20,-5 30,-10 30,10, 20,5" />
      <text
        x="27"
        y="0"
        dominant-baseline="middle"
        text-anchor="middle"
        transform="rotate(-90, 27, 0)"
        class="invert focal"
      >
        50mm
      </text>
      <line id="fov1" class="fov-line" x1="30" y1="0" x2="100000" y2="0" />
      <line id="fov2" class="fov-line" x1="30" y1="0" x2="100000" y2="0" />
      <path id="fov-arc" stroke="1" fill="none" />
      <text
        x="65"
        y="0"
        class="hfov"
        text-anchor="end"
        dominant-baseline="middle"
      >
        0Â°
      </text>
    </g>
    <g transform="translate(30, 0)">
      <g id="world">
        <path fill="none" d="M 0,-1 l -1,1 l 1, 1 a 9,9,0,1,0,0,-2" />
        <line
          class="dashed"
          id="nearFocusPlane"
          x1="-25"
          y1="-50000"
          x2="-25"
          y2="50000"
        />
        <line
          class="dashed"
          id="farFocusPlane"
          x1="25"
          y1="-50000"
          x2="25"
          y2="50000"
        />
      </g>
    </g>
  </svg>
  <label id="focalin">
    <scroll-slider class="slider"></scroll-slider>
  </label>
  <label id="aperture">
    <scroll-slider class="slider" snap></scroll-slider>
  </label>
  <label id="distance">
    <scroll-slider class="slider"></scroll-slider>
  </label>
</main>
<script src="script.js"></script>
